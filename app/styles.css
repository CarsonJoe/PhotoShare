:root{
  --bg: #ffffff;
  --fg: #111111;
  --muted: #6b7280;
  --border: #e5e7eb;
  --card: #f9fafb;
  --accent: #111111;
}

*{ box-sizing: border-box; }
html,body{
  padding:0; margin:0; background:var(--bg); color:var(--fg);
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
}

.container{ max-width:1100px; margin:0 auto; padding:24px; }

.site-header{ display:flex; align-items:center; justify-content:space-between; padding:12px 16px; position:sticky; top:0; z-index:20; position:sticky; background:linear-gradient(180deg, rgba(255,255,255,0.75), rgba(255,255,255,0)); }
.site-title{ font-size:20px; margin:0; }
.site-title a{ color:inherit; text-decoration:none; }
.header-left{ display:flex; align-items:center; gap:10px; }
.back-link{ display:none; text-decoration:none; font-size:22px; line-height:1; padding:6px 8px; border-radius:8px; color:var(--fg); }
.back-link:hover{ background:rgba(0,0,0,0.06); }
.header-right{ display:flex; align-items:center; gap:8px; }
.header-center{ position:absolute; left:50%; transform:translateX(-50%); font-weight:600; color:var(--fg); pointer-events:none; }
.header-btn{ padding:8px 12px; }

.site-footer{ padding:12px 24px; border-top:1px solid var(--border); color:var(--muted); font-size:12px; }

.section-title{ margin:8px 0 16px; font-size:18px; display: none; }

.grid{ display:grid; gap:16px; }
.groups-grid{ grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); }
.photos-grid{ grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); }

.group-card{ display:block; border:1px solid var(--border); border-radius:10px; overflow:hidden; text-decoration:none; color:inherit; background:var(--bg); }
.group-card img{ display:block; width:100%; height:180px; object-fit:cover; background:var(--card); }
.group-title{ padding:10px 12px; font-weight:600; border-top:1px solid var(--border); }

.photo-card{ border:1px solid var(--border); border-radius:10px; overflow:hidden; background:var(--bg); display:flex; flex-direction:column; }
.photo-card img{ display:block; width:100%; height:260px; object-fit:cover; background:var(--card); }
.photo-card{ position:relative; }
.photo-card.selected{ outline:3px solid var(--accent); outline-offset:-3px; }

.toolbar{ display:flex; gap:8px; align-items:center; justify-content:flex-end; margin:8px 0 16px; }
.btn{ appearance:none; border:1px solid var(--border); background:var(--card); color:var(--fg); padding:8px 12px; border-radius:8px; cursor:pointer; }
.btn:hover{ background:#eef2f7; }
.btn.primary{ background:var(--accent); color:#fff; border-color:var(--accent); }
.btn.primary:hover{ filter:brightness(0.9); }

.empty{ color:var(--muted); border:1px dashed var(--border); padding:18px; border-radius:10px; background:var(--card); }

code{ background:var(--card); padding:2px 6px; border-radius:6px; border:1px solid var(--border); }

/* Lightbox */
.lightbox{ position:fixed; inset:0; background:rgba(0,0,0,0.92); display:flex; align-items:center; justify-content:center; z-index:100; padding:24px; }
.lightbox[hidden]{ display:none; }
.lightbox img{ max-width:95vw; max-height:85vh; box-shadow:0 10px 30px rgba(0,0,0,0.5); border-radius:8px; transition:filter .15s ease; }
.lightbox img.is-thumb{ filter: blur(1.2px) saturate(0.95); }
.lb-btn{ position:fixed; top:50%; transform:translateY(-50%); background:rgba(17,17,17,0.6); color:#fff; border:none; width:42px; height:42px; border-radius:999px; cursor:pointer; font-size:22px; display:flex; align-items:center; justify-content:center; user-select:none; }
.lb-btn:hover{ background:rgba(17,17,17,0.8); }
.lb-prev{ left:18px; }
.lb-next{ right:18px; }
.lb-close{ top:18px; right:18px; transform:none; font-size:26px; }
.lb-progress{ position:fixed; left:50%; top:calc(50% + 50vh/2); transform:translateX(-50%); color:#e5e7eb; background:rgba(17,17,17,0.6); padding:6px 10px; border-radius:8px; border:1px solid rgba(229,231,235,0.2); font-size:12px; }

/* Bottom action bar for selection */
.bottom-bar{ position:fixed; left:0; right:0; bottom:0; transform:translateY(100%); transition:transform .18s ease; z-index:25; backdrop-filter:saturate(140%) blur(10px); -webkit-backdrop-filter:saturate(140%) blur(10px); background:linear-gradient(0deg, rgba(255,255,255,0.85), rgba(255,255,255,0.55)); border-top:1px solid rgba(229,231,235,0.6); }
.bottom-inner{ max-width:1100px; margin:0 auto; padding:10px 16px; display:flex; gap:8px; align-items:center; justify-content:flex-end; flex-wrap:wrap; }
.select-mode .bottom-bar{ transform:translateY(0); }

/* Toast */
.toast{ position:fixed; left:50%; bottom:90px; transform:translateX(-50%); background:rgba(17,17,17,0.92); color:#fff; padding:10px 14px; border-radius:10px; box-shadow:0 8px 24px rgba(0,0,0,0.35); z-index:30; font-size:14px; }

/* Modal */
.modal{ position:fixed; inset:0; z-index:40; }
.modal[hidden]{ display:none; }
.modal-backdrop{ position:absolute; inset:0; background:rgba(0,0,0,0.35); backdrop-filter: blur(4px); -webkit-backdrop-filter: blur(4px); }
.modal-panel{ position:absolute; left:50%; top:50%; transform:translate(-50%,-50%); width:min(92vw, 520px); background:var(--bg); border:1px solid var(--border); border-radius:12px; box-shadow:0 20px 60px rgba(0,0,0,0.25); padding:16px; }
.modal-panel h3{ margin:4px 0 8px; }
.modal-panel .muted{ color:var(--muted); margin:0 0 8px; }
.share-form{ display:grid; gap:8px; margin:8px 0 12px; }
.share-form .radio{ display:flex; align-items:center; gap:10px; }
.modal-actions{ display:flex; gap:8px; justify-content:flex-end; }

@media (max-width: 640px){
  .site-title{ display:none; }
  .back-link{ display:inline-flex; }
  .header-center{ font-size:16px; }
  .photos-grid{ grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); }
}
